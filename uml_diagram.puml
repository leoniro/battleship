@startuml battleship_class_diagram

skinparam classAttributeIconSize 0
'left to right direction
hide circle

class Game {
    - game_control :: GameControl
    - players :: (Player, Player) {field}
    - grids :: (Grid, Grid) {field}
    + __init__(player1, player2)
    + turn()
}

class GameCtrl {
    - player_ctrl :: PlayerCtrl
    - ship_ctrl :: ShipCtrl
    - game_history :: Game[]
    - game_view :: GameView
    + __init__()
    + new_game()
    + manage_players()
    + manage_ships()
    + player_ranking()
    + previous_games()
}

class GameView {
    + __init__()
    + new_game()
    + menu(text, options)
    + msg(text)
    + get_intput(filter)
}

class Grid {
    - ships = Ships[]
    - shots :: str[]
    + __init__()
    + place_ships()
    + check_hit(coord)
    + check_defeat()
}

class Ship {
    - length :: int
    - orientation :: int
    - position :: (int, int) {field}
    - sunk :: bool
    - hits :: bool[]
    + __init__()
    + check_hit(coord)
    + check_sunk()
}

class ShipCtrl{
    - ships :: Ship[]
    + __init__()
    + add()
    + list()
    + modify()
    + remove()
}

class ShipView {
    + __init__()
    + menu(text, options)
    + msg(text)
    + get_intput(filter)
    
}

class PlayerCtrl {
    - players :: Player[]
    - player_view :: PlayerView
    + __init__()
    + add()
    + list()
    + modify()
    + remove()
}

abstract class Player {
    - name :: str
    - score :: int
    + __init__() {abstract}
    + name()
    + name(str)
    + score()
    + score(int)
    + play_move() {abstract}
    + place_ship() {abstract}
}

class PlayerView {
    + __init__()
    + menu(text, options)
    + msg(text)
    + get_intput(filter)
}

class HumanPlayer {
    + __init__()
    + play_move()
    + place_ship()
}
class ComputerPlayer {
    + __init__()
    + play_move()
    + place_ship()
}


GameCtrl "1" <--> "1..*" Game : game_history <
GameCtrl "1" --> "1" GameView : game_view <
GameCtrl "1" --> "1" PlayerCtrl : player_ctrl <
GameCtrl "1" --> "1" ShipCtrl : ship_ctrl <

PlayerCtrl "1" --> "1..*" Player : players <
PlayerCtrl "1" --> "1" PlayerView : player_view <

Game "1" --> "2" Player : players <

Player <|-- HumanPlayer
Player <|-- ComputerPlayer

Game "1" --* "2" Grid : grids <

ShipCtrl "1" --> "1..*" Ship : ships <
ShipCtrl "1" --> "1" ShipView : ship_view <
Grid "1" --> "1..*" Ship : ships <

@enduml